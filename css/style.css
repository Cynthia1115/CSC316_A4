:root{
    --bg:#0b0f15; --panel:#121826; --ink:#e5eef7; --muted:#a6b3c6;
    --accent:#0ea5e9; --warm1:#e63946; --warm2:#ffb703; --cool1:#48cae4; --cool2:#023e8a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0; font-family:Inter,system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    color:var(--ink); background: radial-gradient(1200px 600px at 20% 0%, #121826, #0b0f15 70%);
}

.page-header{padding:18px 20px 6px}
h1{margin:0; font-size:40px; font-weight:800; letter-spacing:0.2px}
h1 .thin{font-weight:600; opacity:.9}

.controls{
    display:flex; flex-wrap:wrap; gap:16px; align-items:center;
    padding:8px 20px 12px; border-top:1px solid #1c2638; border-bottom:1px solid #1c2638;
    background:linear-gradient(180deg, #0f1624, #0c1220);
}
.controls label{color:var(--ink); font-weight:600}
.controls select{
    margin-left:6px; padding:6px 10px; background:var(--panel); color:var(--ink);
    border:1px solid #29334b; border-radius:10px; outline:none;
}

.year-range-label{color:var(--muted)}
.year-range-label strong{color:var(--ink)}

.btn-group,.story-controls{display:flex; gap:8px}
.btn, .btn-outline{
    padding:8px 12px; border-radius:12px; cursor:pointer; font-weight:600;
    border:1px solid #2a3956; background:#172036; color:var(--ink);
    transition:transform .05s ease, box-shadow .2s ease, background .2s ease;
}
.btn:hover,.btn-outline:hover{box-shadow:0 0 0 2px #22304c inset}
.btn:active,.btn-outline:active{transform:translateY(1px)}
.btn-primary{background:#1b2a46; border-color:#39507a}
.btn-outline{background:transparent}

main{padding:16px 8px 32px}
#chartContainer{width:100%; max-width:1200px; margin:0 auto; background:rgba(255,255,255,0.03);
    border:1px solid #1b263b; border-radius:18px; box-shadow: 0 10px 32px rgba(0,0,0,.25);
    padding:10px 10px 4px;
}

/* Tooltip */
.tooltip{
    position:absolute; pointer-events:none; z-index:10; background:#0f172a; color:#e5eef7;
    border:1px solid #203254; border-radius:12px; padding:8px 10px; font-size:13px;
    box-shadow:0 8px 24px rgba(0,0,0,.35);
}
.tooltip.hidden{display:none}
.tooltip p{margin:0}

/* Axis + plot aesthetics */
.chart .domain{stroke:#2a3956}
.chart .tick text{fill:#c7d2e4; font-size:12px}
.chart .tick line{stroke:#203254}

/* Context brush */
.brush .selection{fill:var(--accent); fill-opacity:.12; stroke:var(--accent); stroke-width:1.5}
.brush .handle{fill:var(--accent); fill-opacity:.85}

/* Pulsing record markers */
@keyframes pulse {
    0%{r:3; opacity:.9}
    70%{r:9; opacity:.15}
    100%{r:3; opacity:.9}
}

/* Footer shortcuts */
.kb{
    color:#95a6c2; font-size:12px; display:flex; gap:14px; padding:8px 18px 18px;
    border-top:1px solid #1b263b; opacity:.9
}


/* Baseline & brush hint styling */
.baseline-zero { pointer-events: none; }
.baseline-label { pointer-events: none; }
.brush-hint { pointer-events: none; opacity: 0.85; }
