/* --- Magazine layout & theme --- */
:root{
    --ink:#0b1220;
    --muted:#374151;
    --bg: radial-gradient(1200px 800px at 30% 10%, #ffffff 0%, #f7f7fb 55%, #f2f4f8 100%);
    --card:#ffffffcc;
    --card-border:#e5e7eb;
}
*{ box-sizing:border-box; }

body{
    margin:0;
    background: var(--bg);
    color: var(--ink);
    font-family: Inter, "Helvetica Neue", Arial, system-ui, -apple-system, sans-serif;
}

/* Header */
.masthead{
    padding: 28px 22px 6px 22px;
}
.titleblock h1{
    margin:0;
    font-weight: 900;
    letter-spacing: -0.02em;
    font-size: 28px;
}
.subtitle{
    margin: 6px 0 0 0;
    color: var(--muted);
    font-size: 14px;
}

/* Two-column layout */
.layout{
    display:grid;
    grid-template-columns: minmax(540px,1fr) 320px;
    gap: 18px;
    padding: 10px 22px 28px 22px;
}
@media (max-width: 980px){
    .layout{ grid-template-columns: 1fr; }
    .sidepanel{ order: 3; }
}

/* Left column */
.vizcol .controls{
    display:flex; align-items:center; gap:12px; margin:4px 0 8px 0;
}
.year-label{
    font-weight:700; font-size:14px; padding:4px 8px; border-radius:8px;
    background:#fff; border:1px solid var(--card-border); display:inline-block;
}

/* Right column: Panel */
.sidepanel{ display:flex; flex-direction:column; gap:14px; }
.panel-card{
    background: var(--card);
    backdrop-filter: blur(6px);
    border: 1px solid var(--card-border);
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,.05);
    padding: 12px 14px;
}
.panel-title{ margin: 0 0 8px 0; font-size: 15px; font-weight: 800; }
.panel-body .stat{ display:flex; justify-content:space-between; margin: 6px 0; }
.panel-body .stat span{ color:var(--muted); }
.panel-body .stat strong{ font-variant-numeric: tabular-nums; }
.panel-body .note{ margin-top:8px; color:var(--muted); font-size:12px; }
.shortcuts{ margin:0; padding-left:16px; }
.shortcuts li{ margin:6px 0; font-size:13px; color:var(--muted); }
kbd{
    background:#111827; color:#fff; padding:1px 6px; border-radius:6px; font-size:11px;
}

/* SVG text & labels */
text{ font-size:12px; fill:#111827; }
.label-text{
    font-size:13px; font-weight:600; letter-spacing:.5px; fill:#111827;
}

/* Bars & line (hover polish) */
.bar{
    shape-rendering: crispEdges;
    stroke: rgba(0,0,0,0.08);
    stroke-width: 0.5;
    transition: filter .15s ease;
}
.bar:hover{ filter: drop-shadow(0 1px 6px rgba(0,0,0,0.18)); }
.co2-line{ filter: drop-shadow(0 1px 1px rgba(14,165,233,0.15)); }
.co2-dot{ transition: transform .1s ease; }
.co2-dot:hover{ transform: scale(1.25); }

/* Tooltip: glass card */
#tooltip{
    position:absolute; pointer-events:none;
    border-radius: 10px; padding: 8px 12px;
    background: rgba(255,255,255,0.78);
    backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.10);
    border: 1px solid rgba(255,255,255,0.6);
    color: #0b1220; z-index:10;
}
#tooltip.hidden{ display:none; }
#tooltip p{ margin:0; font-size:13px; line-height:1.2; }

/* Overview sparkline area */
#overview svg{ display:block; }
.overview-bg{
    fill: url(#miniGradient);
    opacity: 0.12;
}
.brush .selection{
    fill: #f59e0b33;
    stroke: #f59e0b;
    stroke-width:1;
}

/* Axes */
.x-axis-container text,
.y-axis-left text,
.y-axis-right text{ fill:#1f2937; }
.x-axis-container .tick line,
.y-axis-left .tick line,
.y-axis-right .tick line{ opacity: 0.08; }
